name: "Run Step"
description: "Run a TypeScript script by convention from .github/steps/<name>.ts"
inputs:
  name:
    description: "The name of the workflow step to run"
    required: true
  inputs:
    description: "JSON string of inputs for the step"
    required: false
    default: "{}"
  context:
    description: "GitHub context object (usually toJSON(github))"
    required: false
    default: "{}"
  previous:
    description: "Outputs from previous steps (e.g. toJSON(steps.previous.outputs))"
    required: false
    default: "{}"
  github_token:
    description: "GitHub token for API access"
    required: false
runs:
  using: "composite"
  steps:
    - name: Run workflow step
      shell: bash
      env:
        GITHUB_TOKEN: ${{ inputs.github_token }}
      run: node --no-warnings --experimental-transform-types ./src/lib/github-actions/run-step-cli.ts ${{ inputs.name }} '${{ inputs.inputs }}' '${{ inputs.context }}' '${{ inputs.previous }}'
