/* Catalog Railway Component Styles */

/* Base Railway Container */
.catalog-railway {
  /* Default node styling */
  --node-fill: var(--gray-9);
  --node-stroke: var(--gray-11);
  --node-stroke-width: 1px;
  --node-stroke-dasharray: none;
  
  /* Initial node styling */
  --initial-node-fill: var(--gray-7);
  --initial-node-stroke: var(--gray-9);
  --initial-node-stroke-dasharray: 2 1;
  
  /* Current/active revision node styling */
  --current-node-fill: var(--accent-9);
  --current-node-stroke: var(--accent-11);
  --current-node-stroke-width: 2px;
  
  /* Hover states */
  --hover-node-fill: var(--accent-7);
  --hover-node-stroke: var(--accent-9);
}

/* Base Node Styles */
.catalog-railway-node {
  transition: all 0.2s ease;
}

/* Initial Node Styles */
.catalog-railway-initial-node .catalog-railway-node {
  --node-fill: var(--initial-node-fill);
  --node-stroke: var(--initial-node-stroke);
  --node-stroke-dasharray: var(--initial-node-stroke-dasharray);
}

/* Revision Node Styles */
.catalog-railway-revision-node .catalog-railway-node {
  cursor: pointer;
}

/* Current Revision Node */
.catalog-railway-revision-node .catalog-railway-node[data-current="true"] {
  --node-fill: var(--current-node-fill);
  --node-stroke: var(--current-node-stroke);
  --node-stroke-width: var(--current-node-stroke-width);
}

/* Hover Effects for Non-Current Revision Nodes */
.catalog-railway-revision-node .catalog-railway-node:hover {
  --node-fill: var(--hover-node-fill);
  --node-stroke: var(--hover-node-stroke);
}

/* Override hover for current nodes - keep their styling */
.catalog-railway-revision-node .catalog-railway-node[data-current="true"]:hover {
  --node-fill: var(--current-node-fill);
  --node-stroke: var(--current-node-stroke);
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
  .catalog-railway {
    --node-stroke-width: 2px;
    --current-node-stroke-width: 3px;
  }
}

/* Branch Connector Styles */
.branch-connector {
  /* Connectors appear behind tracks */
  z-index: -1;
}

.branch-connector path {
  transition: opacity 0.2s ease;
}

.branch-connector:hover path,
.branch-connector:hover polygon {
  opacity: 1 !important;
  stroke: var(--accent-8);
  fill: var(--accent-8);
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  .catalog-railway-node {
    transition: none;
  }
  
  .branch-connector path {
    transition: none;
  }
}